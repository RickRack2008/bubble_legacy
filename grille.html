<!DOCTYPE html>
<html lang="fr">
<head>
<link href="https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500&display=swap" rel="stylesheet">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bubbles Legacy - Popups 3 Bulles</title>
  
<style>
.popup-content ul li {
  font-family: 'IM Fell English SC', serif;
  font-size: 20px;
  text-align: center;
  margin: 15px 0;
  background: none;
  transition: transform 0.3s ease, text-shadow 0.3s ease;
  opacity: 0;
  animation: fadeInUp 0.5s ease forwards;
}

.popup-content ul li:hover {
  transform: scale(1.08);
  text-shadow: 0 0 8px #ffd700, 0 0 12px #ff4500;
}

.popup-content ul li:nth-child(1) { animation-delay: 0.1s; }
.popup-content ul li:nth-child(2) { animation-delay: 0.2s; }
.popup-content ul li:nth-child(3) { animation-delay: 0.3s; }
.popup-content ul li:nth-child(4) { animation-delay: 0.4s; }
.popup-content ul li:nth-child(5) { animation-delay: 0.5s; }

@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.separator {
  height: 1px;
  border: none;
  margin: 15px auto;
  width: 60%;
  background: linear-gradient(to right, transparent, #FFD700, transparent);
}

.icon {
  height: 20px;
  margin-right: 10px;
  vertical-align: middle;
}

.popup {
  background-color: rgba(0, 0, 0, 0.5) !important;
}

.close-btn {
  position: absolute;
  top: 10px;
  right: 15px;
  font-size: 26px;
  color: #FFD700;
  background: radial-gradient(circle, #FFD700, #FF4500);
  border-radius: 50%;
  padding: 2px 10px;
  cursor: pointer;
  box-shadow: 0 0 8px #FFD700;
  z-index: 10001;
}
</style>
<style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      height: 100%;
      background-color: black;
    }
    canvas {
      display: block;
      width: 100%;
      height: 100%;
    }
    .popup-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.7);
      z-index: 10;
      justify-content: center;
      align-items: center;
    }
    .popup-image {
      position: relative;
      max-width: 80vw;
      max-height: 80vh;
      text-align: center;
    }
    .popup-image img {
      width: 100%;
      height: auto;
      border-radius: 20px;
    }
    .popup-caption {
      position: absolute;
      bottom: 2%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(5px);
      -webkit-backdrop-filter: blur(5px);
      padding: 15px 25px;
      border-radius: 15px;
      color: white;
      font-family: sans-serif;
      text-align: center;
    }
    .popup-caption button {
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 20px;
      font-weight: bold;
      cursor: pointer;
    }
    .close-btn {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size: 1.5rem;
      color: white;
      cursor: pointer;
      font-weight: bold;
      z-index: 20;
    }
    .headbar {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      display: flex;
      align-items: center;
      background: transparent;
      z-index: 100;
      padding: 0 20px;
    }
    .headbar img {
      margin-left: 0px;
      height: 40px;
    }
    body {
      padding-top: 60px;
    }
    .menu-button-container {
      position: absolute;
      top: 10px;
      right: 60px;
      height: 40px;
      display: flex;
      align-items: center;
    }
    .menu-button {
      height: 50px;
      cursor: pointer;
    }
    .side-menu {
      height: 100%;
      width: 0;
      position: fixed;
      z-index: 200;
      top: 0;
      right: 0;
      background-color: rgba(0, 0, 0, 0.9);
      overflow-x: hidden;
      transition: 0.5s;
      padding-top: 60px;
    }
    .side-menu .closebtn {
      position: absolute;
      top: 20px;
      right: 40px;
      font-size: 36px;
      color: white;
      cursor: pointer;
    }
  
.popup-menu {
  display: none;
  position: fixed;
  right: 0;
  top: 0;
  width: 300px;
  height: 100vh;
  background-color: rgba(0,0,0,0.5);
  color: white;
  z-index: 9999;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  padding-top: 80px;
}
.popup-content {
  text-align: center;
}
.closebtn {
  position: absolute;
  top: 20px;
  left: 20px;
  font-size: 30px;
  color: white;
  cursor: pointer;
}

.popup-content ul li {
  font-family: 'IM Fell English SC', serif;
  font-size: 1.2rem;
  margin: 20px 0;
  background: linear-gradient(90deg, #ffffff, #FFD700, #ff4500);
  background-clip: text;
  -webkit-background-clip: text;
  color: transparent;
  transition: all 0.3s ease;
  cursor: pointer;
}
.popup-content ul li:hover {
  text-decoration: underline;
  text-underline-offset: 6px;
  text-decoration-color: #FFD700;
  transform: scale(1.05);
}
</style>
</head>
<body>
  <div class="headbar">
    <img src="titre-detoure.png" alt="Bubbles Legacy Logo" class="logo-headbar" />
    <div class="menu-button-container">
      <img src="bouton_menu.png" alt="Menu" class="menu-button" onclick="openPopup('popupMenu')" />
    </div>
  </div>

  <div class="popup-overlay" id="popupRick">
    <div class="close-btn" onclick="document.getElementById('popupRick').style.display='none'">&times;</div>
    <div class="popup-image">
      <img src="rickrack_pp.png" alt="Riiiick Raack" />
      <div class="popup-caption">
        <a href="https://x.com/RiickRaack" target="_blank" style="text-decoration: none;"><button>Visiter</button></a>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupCSV">
    <div class="close-btn" onclick="document.getElementById('popupCSV').style.display='none'">&times;</div>
    <div class="popup-image">
      <img src="csv_pp.png" alt="Anonyme CSV" />
      <div class="popup-caption">
        <button>Visiter</button>
      </div>
    </div>
  </div>

  <div class="popup-overlay" id="popupCeleste">
    <div class="close-btn" onclick="document.getElementById('popupCeleste').style.display='none'">&times;</div>
    <div class="popup-image">
      <img src="bubble_legacy_pp.png" alt="Celeste" />
      <div class="popup-caption">
        <button>Visiter</button>
      </div>
    </div>
  </div>

  

  <script src="https://cdn.jsdelivr.net/npm/pixi.js@7.2.4/dist/pixi.min.js"></script>
  <script>
    const app = new PIXI.Application({ resizeTo: window, transparent: true });
    document.body.appendChild(app.view);

    const videoContainer = new PIXI.Container();
    app.stage.addChild(videoContainer);

    
const videoTexture = PIXI.Texture.from('galactic_background.jpg.webm');
const videoSprite = new PIXI.Sprite(videoTexture);

const videoElement = videoTexture.baseTexture.resource.source;
videoElement.loop = true;
videoElement.muted = true;
videoElement.play();

videoSprite.anchor.set(0.5);
videoSprite.x = window.innerWidth / 2;
videoSprite.y = window.innerHeight / 2;

function resizeVideo() {
  const windowRatio = window.innerWidth / window.innerHeight;
  const videoRatio = videoElement.videoWidth / videoElement.videoHeight;

  if (windowRatio > videoRatio) {
    videoSprite.width = window.innerWidth;
    videoSprite.height = window.innerWidth / videoRatio;
  } else {
    videoSprite.height = window.innerHeight;
    videoSprite.width = window.innerHeight * videoRatio;
  }

  videoSprite.x = window.innerWidth / 2;
  videoSprite.y = window.innerHeight / 2;
}

videoElement.addEventListener('loadedmetadata', resizeVideo);
window.addEventListener('resize', resizeVideo);

videoContainer.addChild(videoSprite);


    const bubblesData = [
      { src: "nova.png", x: 100, y: 100, vx: 0.15, vy: 0.12 },
      { src: "astrale.png", x: 300, y: 200, vx: -0.12, vy: 0.18 },
      { src: "celeste.png", x: 500, y: 150, vx: 0.1, vy: -0.15 },
      { src: "bulle_csv.png", x: 200, y: 300, vx: -0.08, vy: 0.1 },
      { src: "bulle_entreprise_detoure.png", x: 400, y: 250, vx: 0.1, vy: -0.09 },
      { src: "bulle_influ-detoure.png", x: 600, y: 100, vx: -0.11, vy: 0.07 }
    ];

    const bubbles = [];

    bubblesData.forEach((data, index) => {
      const texture = PIXI.Texture.from(data.src);
      const sprite = new PIXI.Sprite(texture);
      sprite.anchor.set(0.5);
      if (index === 1) {
        sprite.width = 75;
        sprite.height = 75;
      } else if (index === 2 || index === 3) {
        sprite.width = 100;
        sprite.height = 100;
      } else {
        sprite.width = 50;
        sprite.height = 50;
      }
      sprite.x = data.x;
      sprite.y = data.y;
      sprite.vx = data.vx;
      sprite.vy = data.vy;
      sprite.eventMode = 'static';
      if (index === 1) {
        sprite.on('pointerdown', () => {
          document.getElementById('popupRick').style.display = 'flex';
        });
      }

      if (index === 2) {
        sprite.on('pointerdown', () => {
          document.getElementById('popupCeleste').style.display = 'flex';
        });
      }

      if (index === 3) {
        sprite.on('pointerdown', () => {
          document.getElementById('popupCSV').style.display = 'flex';
        });
      }

      bubbles.push(sprite);
      app.stage.addChild(sprite);
    });

    function checkCollision(b1, b2) {
      const dx = b1.x - b2.x;
      const dy = b1.y - b2.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      const minDist = (b1.width + b2.width) / 2;
      return distance < minDist;
    }

    function resolveCollision(b1, b2) {
      const dx = b1.x - b2.x;
      const dy = b1.y - b2.y;
      const distance = Math.sqrt(dx * dx + dy * dy);
      if (distance === 0) return;

      const overlap = (b1.width / 2 + b2.width / 2) - distance;
      const nx = dx / distance;
      const ny = dy / distance;

      b1.x += nx * (overlap / 2);
      b1.y += ny * (overlap / 2);
      b2.x -= nx * (overlap / 2);
      b2.y -= ny * (overlap / 2);

      const vx1 = b1.vx;
      const vy1 = b1.vy;
      b1.vx = b2.vx;
      b1.vy = b2.vy;
      b2.vx = vx1;
      b2.vy = vy1;
    }

    app.ticker.add(() => {
      const w = window.innerWidth;
      const h = window.innerHeight;

      bubbles.forEach(b => {
        b.x += b.vx;
        b.y += b.vy;

        if (b.x - b.width / 2 < 0 || b.x + b.width / 2 > w) {
          b.vx *= -1;
          b.x = Math.max(b.width / 2, Math.min(w - b.width / 2, b.x));
        }
        if (b.y - b.height / 2 < 0 || b.y + b.height / 2 > h) {
          b.vy *= -1;
          b.y = Math.max(b.height / 2, Math.min(h - b.height / 2, b.y));
        }
      });

      for (let i = 0; i < bubbles.length; i++) {
        for (let j = i + 1; j < bubbles.length; j++) {
          if (checkCollision(bubbles[i], bubbles[j])) {
            resolveCollision(bubbles[i], bubbles[j]);
          }
        }
      }
    });

    

    
  </script>

<div id="popupMenu" class="popup-menu">
  
<div class="popup-content">
  <span class="closebtn" onclick="closePopup('popupMenu')">&times;</span>
  <ul style="list-style: none; padding: 0; margin-top: 60px; text-align: center;">
    <li style="margin: 20px 0;"><a href="index.html" style="text-decoration: none; color: inherit;">Acheter ma bulle</a></li>
    <li style="margin: 20px 0;"><a href="roadmap.html" style="text-decoration: none; color: inherit;">Roadmap</a></li>
    <li style="margin: 20px 0;"><a href="histoire.html" style="text-decoration: none; color: inherit;">Histoire de Bubbles Legacy</a></li>
    <li style="margin: 20px 0;"><a href="index.html" style="text-decoration: none; color: inherit;">Retour à l'accueil</a></li>
    <li style="margin: 20px 0;">Whitepaper</li>
  </ul>
</div>

</div>


<script>
function openPopup(id) {
  console.log("✅ Popup ouverte : " + id);
  document.getElementById(id).style.display = "flex";
}
function closePopup(id) {
  console.log("❌ Popup fermée : " + id);
  document.getElementById(id).style.display = "none";
}

// Fermer la popup si clic à l'extérieur du contenu
['popupRick', 'popupCSV', 'popupCeleste'].forEach(popupId => {
  const popup = document.getElementById(popupId);
  if (popup) {
    popup.addEventListener('click', function(e) {
      if (e.target === popup) {
        popup.style.display = 'none';
      }
    });
  }
});
</script>
</body>

</html>
